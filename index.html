<!doctype html>
<html lang="sv">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Originalstorlek – Säker bildstack</title>

<style>
  body {
    margin: 20px;
    background: #111;
    color: white;
    font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  }

  h1 {
    font-weight: 500;
  }

  #stack {
    display: flex;
    flex-direction: column;
    gap: 30px;
    align-items: flex-start;
  }

  #stack img {
    display: block;

    /* Originalstorlek */
    width: auto !important;
    height: auto !important;
    max-width: none !important;
    max-height: none !important;

    /* Förhindra överlapp */
    position: static !important;
    float: none !important;
    clear: both !important;
  }

  input {
    margin: 20px 0;
  }
</style>
</head>

<body>

<h1>Lägg till bilder (originalstorlek, ingen överlappning)</h1>

<input type="file" id="imagePicker" accept="image/*" multiple>

<div id="stack"></div>

<script>
  const picker = document.getElementById("imagePicker");
  const stack = document.getElementById("stack");

  picker.addEventListener("change", function() {
    const files = Array.from(this.files);

    files.forEach(file => {
      const url = URL.createObjectURL(file);
      const img = new Image();
      img.src = url;
      img.alt = file.name;
      img.loading = "lazy";

      stack.appendChild(img);

      img.onload = () => {
        URL.revokeObjectURL(url);
      };
    });

    // Tillåter att du väljer samma filer igen
    this.value = "";
  });
</script>

</body>
</html>
